{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tjrkd_0alrjt7\\\\Desktop\\\\ig-front\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [image, setImage] = useState(null);\n  const [caption, setCaption] = useState('');\n  const [result, setResult] = useState('');\n  const [loading, setLoading] = useState(false);\n  const handleImageChange = e => {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setImage(reader.result.split(',')[1]);\n    };\n    if (file) reader.readAsDataURL(file);\n  };\n  const handleAnalyze = async () => {\n    if (!image || !caption) return alert('이미지와 캡션을 모두 입력해주세요.');\n    setLoading(true);\n    try {\n      const response = await fetch('http://127.0.0.1:5000/analyze', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          image,\n          caption\n        })\n      });\n      const data = await response.json();\n      setResult(data.result);\n    } catch (err) {\n      alert('분석 실패');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ✅ 점수 뽑아내는 함수 (소괄호 필수!)\n  const extractScore = text => {\n    const match = text.match(/확률:\\s*(\\d+)/);\n    return match ? parseInt(match[1], 10) : null;\n  };\n\n  // ✅ 점수에 따른 이모지/문구 출력 함수\n  const getEmojiFeedback = score => {\n    if (score >= 90) return \"🥵 좋아요 폭주 예상!\";\n    if (score >= 70) return \"😍 반응 좋을 듯해요!\";\n    if (score >= 50) return \"🤔 그럭저럭 무난한 반응?\";\n    return \"😢 반응이 아쉬울 수도 있어요\";\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '2rem',\n      maxWidth: '600px',\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\uC778\\uC2A4\\uD0C0 \\uAC10\\uC131 \\uBD84\\uC11D\\uAE30 \\uD83C\\uDF08\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \"image/*\",\n      onChange: handleImageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 74\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 80\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      placeholder: \"\\uCEA1\\uC158\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",\n      rows: 4,\n      style: {\n        width: '100%'\n      },\n      value: caption,\n      onChange: e => setCaption(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleAnalyze,\n      disabled: loading,\n      children: loading ? '분석 중...' : '분석하기'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), image && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '1.5rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\uD83D\\uDDBC\\uFE0F \\uC5C5\\uB85C\\uB4DC\\uD55C \\uC774\\uBBF8\\uC9C0 \\uBBF8\\uB9AC\\uBCF4\\uAE30:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `data:image/jpeg;base64,${image}`,\n        alt: \"\\uC5C5\\uB85C\\uB4DC\\uD55C \\uC774\\uBBF8\\uC9C0\",\n        style: {\n          maxWidth: '100%',\n          borderRadius: '8px',\n          marginTop: '0.5rem'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 3\n    }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '2rem',\n        background: '#f2f2f2',\n        padding: '1rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\uD83D\\uDCCA \\uBD84\\uC11D \\uACB0\\uACFC:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        style: {\n          whiteSpace: 'pre-wrap',\n          fontSize: '1.1rem'\n        },\n        children: result\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), (() => {\n        const score = extractScore(result);\n        if (score !== null) {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: '1rem',\n              fontSize: '1.3rem'\n            },\n            children: [\"\\uD83D\\uDC49 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: getEmojiFeedback(score)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 22\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this);\n        } else {\n          return null;\n        }\n      })()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"JWm8nFOTMw05hrnYYOYOI5Tv7zI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","App","_s","image","setImage","caption","setCaption","result","setResult","loading","setLoading","handleImageChange","e","file","target","files","reader","FileReader","onloadend","split","readAsDataURL","handleAnalyze","alert","response","fetch","method","headers","body","JSON","stringify","data","json","err","console","error","extractScore","text","match","parseInt","getEmojiFeedback","score","style","padding","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","placeholder","rows","width","value","onClick","disabled","marginTop","src","alt","borderRadius","background","whiteSpace","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/tjrkd_0alrjt7/Desktop/ig-front/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\n\nfunction App() {\n  const [image, setImage] = useState(null);\n  const [caption, setCaption] = useState('');\n  const [result, setResult] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleImageChange = (e) => {\n    const file = e.target.files[0];\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      setImage(reader.result.split(',')[1]);\n    };\n    if (file) reader.readAsDataURL(file);\n  };\n\n  const handleAnalyze = async () => {\n    if (!image || !caption) return alert('이미지와 캡션을 모두 입력해주세요.');\n    setLoading(true);\n    try {\n      const response = await fetch('http://127.0.0.1:5000/analyze', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ image, caption })\n      });\n      const data = await response.json();\n      setResult(data.result);\n    } catch (err) {\n      alert('분석 실패');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ✅ 점수 뽑아내는 함수 (소괄호 필수!)\n  const extractScore = (text) => {\n    const match = text.match(/확률:\\s*(\\d+)/);\n    return match ? parseInt(match[1], 10) : null;\n  };\n\n  // ✅ 점수에 따른 이모지/문구 출력 함수\n  const getEmojiFeedback = (score) => {\n    if (score >= 90) return \"🥵 좋아요 폭주 예상!\";\n    if (score >= 70) return \"😍 반응 좋을 듯해요!\";\n    if (score >= 50) return \"🤔 그럭저럭 무난한 반응?\";\n    return \"😢 반응이 아쉬울 수도 있어요\";\n  };\n\n  return (\n    <div style={{ padding: '2rem', maxWidth: '600px', margin: 'auto' }}>\n      <h1>인스타 감성 분석기 🌈</h1>\n      \n      <input type=\"file\" accept=\"image/*\" onChange={handleImageChange} /><br /><br />\n\n      <textarea\n        placeholder=\"캡션을 입력하세요\"\n        rows={4}\n        style={{ width: '100%' }}\n        value={caption}\n        onChange={(e) => setCaption(e.target.value)}\n      /><br /><br />\n\n      <button onClick={handleAnalyze} disabled={loading}>\n        {loading ? '분석 중...' : '분석하기'}\n      </button>\n      {/* 이미지 미리보기 */}\n{image && (\n  <div style={{ marginTop: '1.5rem' }}>\n    <h4>🖼️ 업로드한 이미지 미리보기:</h4>\n    <img\n      src={`data:image/jpeg;base64,${image}`}\n      alt=\"업로드한 이미지\"\n      style={{ maxWidth: '100%', borderRadius: '8px', marginTop: '0.5rem' }}\n    />\n  </div>\n)}\n\n      {result && (\n        <div style={{ marginTop: '2rem', background: '#f2f2f2', padding: '1rem' }}>\n          <h3>📊 분석 결과:</h3>\n          <pre style={{ whiteSpace: 'pre-wrap', fontSize: '1.1rem' }}>{result}</pre>\n\n          {/* 🧠 점수 기반 감정 이모지/문구 */}\n          {(() => {\n            const score = extractScore(result);\n            if (score !== null) {\n              return (\n                <div style={{ marginTop: '1rem', fontSize: '1.3rem' }}>\n                  👉 <strong>{getEmojiFeedback(score)}</strong>\n                </div>\n              );\n            } else {\n              return null;\n            }\n          })()}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}